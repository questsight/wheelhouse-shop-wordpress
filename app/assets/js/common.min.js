jQuery(document).ready(function(){jQuery(".product__cloth").on("click",function(){jQuery(".cloth").removeClass("hidden");var t=jQuery("#filter-cloth").serialize();jQuery("#result-cloth").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-cloth.php",data:t,method:"POST",success:function(t){jQuery("#result-cloth").html(t)}}),jQuery("#result-cloth").removeClass("hidden")}),jQuery(".cloth__close").on("click",function(){price="",jQuery(".cloth__popup").addClass("hidden"),jQuery("#result-cloth").addClass("hidden"),jQuery(".cloth").addClass("hidden")}),jQuery(this).keydown(function(t){27==t.which&&jQuery(".cloth__close").click()}),jQuery(".product__cloth-add").on("click",function(){jQuery(".cloth").removeClass("hidden"),jQuery('[name="item"]').attr("value",jQuery(this).attr("data-item"));var t=jQuery("#filter-cloth").serialize();jQuery("#result-cloth").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-cloth-add.php",data:t,method:"POST",success:function(t){jQuery("#result-cloth").html(t)}}),jQuery("#result-cloth").removeClass("hidden")}),jQuery(".product__cloth-fix").on("click",function(){jQuery("#popup-fix img").attr("src",jQuery(this).attr("data-fix")),jQuery("#popup-fix").removeClass("hidden")}),jQuery("#popup-fix .popup__content .listing__close").on("click",function(){jQuery("#popup-fix").addClass("hidden"),jQuery("#popup-fix img").attr("src","")})}),jQuery(document).ready(function(){jQuery(".filter__title").on("click",function(){if(window.matchMedia("(max-width: 991px)").matches){var t=jQuery(this).attr("data-type");jQuery(".filter__item").addClass("hidden_type_min-md"),jQuery(this).hasClass("open")?jQuery(".filter__title").removeClass("open"):(jQuery(".filter__item[data-type="+t+"]").removeClass("hidden_type_min-md"),jQuery(".filter__title").removeClass("open"),jQuery(this).addClass("open"))}}),jQuery(".filter__close").on("click",function(){jQuery(".filter").addClass("hidden_type_min-md"),jQuery(".filter__call").removeClass("hidden_type_min-md")}),jQuery(".filter__show").on("click",function(){jQuery(".filter").addClass("hidden_type_min-md"),jQuery(".filter__call").removeClass("hidden_type_min-md")}),jQuery(".filter__call").on("click",function(){jQuery(".filter").removeClass("hidden_type_min-md"),jQuery(".filter__call").addClass("hidden_type_min-md")}),jQuery("#filter-materialy input").change(function(t){var e=jQuery("#filter-materialy").serialize();history.pushState({},"","?"+e),jQuery("#result-materialy").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-materialy.php",data:e,method:"GET",success:function(t){jQuery("#result-materialy").html(t)}})}),jQuery("#filter-product input").change(function(t){if("all"==jQuery(this).attr("value")){var e=jQuery(this).attr("data-call");jQuery(this).attr("data-active")?(jQuery(this).removeAttr("data-active"),jQuery("["+e+"]").removeAttr("checked")):(jQuery(this).attr("data-active","active"),jQuery("["+e+"]").attr("checked","checked"))}var i=jQuery("#filter-product").serialize();history.pushState({},"","?"+i),jQuery("#result-product").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-product.php",data:i,method:"GET",success:function(t){jQuery("#result-product").html(t)}})})}),jQuery(document).ready(function(){jQuery(".agree").prop("checked",!1)}),jQuery(document).ready(function(){jQuery("#hamburger").click(function(){jQuery(".hamburger__item").toggleClass("hamburger__item_open"),jQuery("#navigation").toggleClass("hidden_type_min-md")})}),jQuery(document).ready(function(){jQuery("#icon-search").on("click",function(){jQuery("#icon-search").toggleClass("active"),jQuery("#form-search").toggleClass("active")})}),jQuery(document).ready(function(){var t=jQuery(".listing__item").length,e=0;if("portfolio"==jQuery(".listing").attr("data-type"))var i=!0;else var i=!1;jQuery(".listing__item").click(function(){if(jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style",""),window.matchMedia("(max-width: 767px)").matches&&(jQuery(".listing__item").addClass("hidden"),jQuery(".description").addClass("hidden"),jQuery(".title").addClass("hidden")),i)var t=jQuery(this).children(".listing__foto").attr("data-src").split(",");window.matchMedia("(min-width: 992px)").matches&jQuery(".listing").height()>jQuery(window).height()-160?jQuery(".listing").attr("data-fixed","fixed"):jQuery(".listing").height()>jQuery(window).height()-jQuery(".site__header").height()-50&&jQuery(".listing").attr("data-fixed","fixed"),i?(jQuery(".listing__popup-foto img").attr("src",t[0]),t.length>1&&(jQuery(".listing__popup-foto img:first").css("max-height","calc(100vh - 200px)"),jQuery.each(t,function(t,e){jQuery(".listing__popup-foto").append('<img class="portfolio__img" src="'+e+'" style="height:80px;margin: 5px;cursor:pointer;">')}),jQuery(".portfolio__img").on("click",function(){jQuery(".listing__popup-foto img:first").attr("src",jQuery(this).attr("src"))}))):jQuery(".listing__popup-foto img").attr("src",jQuery(this).children(".listing__foto").attr("data-src")),jQuery(".listing__popup-title").html(jQuery(this).children(".listing__title").html()),jQuery(".listing__popup-description").html(jQuery(this).attr("data-description")),e=+jQuery(this).attr("data-item"),jQuery(".listing__popup").removeClass("hidden")}),jQuery(".listing__arrow-left").click(function(){jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style",""),1==e?e=t:e--,console.log(e),console.log(jQuery('[data-item="'+e+'"]').children(".listing__foto").attr("data-src"));var a=jQuery('[data-item="'+e+'"]').children(".listing__foto").attr("data-src").split(",");if(jQuery(".listing__popup-title").addClass("animation-opacity-0").html(jQuery('[data-item="'+e+'"]').children(".listing__title").html()),jQuery(".listing__popup-description").addClass("animation-opacity-0").html(jQuery('[data-item="'+e+'"]').attr("data-description")),jQuery(".listing__arrow-left").addClass("animation-opacity-0"),jQuery(".listing__arrow-right").addClass("animation-opacity-0"),i){var r=a[0];a.length>1&&(jQuery(".listing__popup-foto img:first").css("max-height","calc(100vh - 200px)"),jQuery.each(a,function(t,e){jQuery(".listing__popup-foto").append('<img class="portfolio__img" src="'+e+'" style="height:80px;margin: 5px;cursor:pointer;">')}),jQuery(".portfolio__img").on("click",function(){jQuery(".listing__popup-foto img:first").attr("src",jQuery(this).attr("src"))}))}else var r=jQuery('[data-item="'+e+'"]').children(".listing__foto").attr("data-src");return jQuery(".listing__popup-foto img:first").addClass("animation-opacity-0").attr("src",r).on("load",function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity-0").addClass("animation-opacity"),setTimeout(function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity")},1e3)}),!1}),jQuery(".listing__arrow-right").click(function(){jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style",""),e==t?e=1:e++;var a=jQuery('[data-item="'+e+'"]').children(".listing__foto").attr("data-src").split(",");if(jQuery(".listing__popup-title").addClass("animation-opacity-0").html(jQuery('[data-item="'+e+'"]').children(".listing__title").html()),jQuery(".listing__popup-description").addClass("animation-opacity-0").html(jQuery('[data-item="'+e+'"]').attr("data-description")),jQuery(".listing__arrow-left").addClass("animation-opacity-0"),jQuery(".listing__arrow-right").addClass("animation-opacity-0"),i){var r=a[0];a.length>1&&(jQuery(".listing__popup-foto img:first").css("max-height","calc(100vh - 200px)"),jQuery.each(a,function(t,e){jQuery(".listing__popup-foto").append('<img class="portfolio__img" src="'+e+'" style="height:80px;margin: 5px;cursor:pointer;">')}),jQuery(".portfolio__img").on("click",function(){jQuery(".listing__popup-foto img:first").attr("src",jQuery(this).attr("src"))}))}else var r=jQuery('[data-item="'+e+'"]').children(".listing__foto").attr("data-src");return jQuery(".listing__popup-foto img:first").addClass("animation-opacity-0").attr("src",r).on("load",function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity-0").addClass("animation-opacity"),setTimeout(function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity")},1e3)}),!1}),jQuery(".listing__close").click(function(){jQuery(".listing__popup").addClass("hidden"),jQuery(".listing__item").removeClass("hidden"),jQuery(".description").removeClass("hidden"),jQuery(".title").removeClass("hidden"),jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style","")}),jQuery(this).keydown(function(t){27==t.which&&jQuery(".listing__popup").addClass("hidden")}),jQuery(this).keydown(function(t){37==t.which&&jQuery(".listing__arrow-left").click()}),jQuery(this).keydown(function(t){39==t.which&&jQuery(".listing__arrow-right").click()})});var lastX;jQuery(document).bind("touchmove",function(t){var e=t.originalEvent.touches[0].clientX;e>lastX?jQuery(".listing__arrow-left").click():e<lastX&&jQuery(".listing__arrow-right").click(),lastX=e}),jQuery(document).ready(function(){jQuery("#pa_size-krd").change(function(){jQuery('[name="mattress-size"]').attr("value",jQuery(this).val()),jQuery("#product__mattress").attr("data-fix")?jQuery("#product__mattress").html("Выбрать матрас"):jQuery("#product__mattress").html("Добавить матрас"),jQuery("#add-mattress").removeAttr("name"),jQuery("#add-mattress").removeAttr("value"),jQuery(".variation_id").removeAttr("data-addprice")}),jQuery(".variation_id").change(function(){jQuery('[name="mattress-size"]').attr("value",jQuery("#pa_size-krd").val())}),jQuery("#product__mattress").on("click",function(){jQuery(".mattress").removeClass("hidden"),jQuery('[name="item"]').attr("value",jQuery(this).attr("data-item"));var t=jQuery("#mattress-size").serialize();jQuery("#result-mattress").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-mattress.php",data:t,method:"POST",success:function(t){jQuery("#result-mattress").html(t)}}),jQuery("#result-mattress").removeClass("hidden")}),jQuery(".mattress__close").on("click",function(){jQuery(".cloth__popup").addClass("hidden"),jQuery("#result-mattress").addClass("hidden"),jQuery(".mattress").addClass("hidden")})}),jQuery(document).ready(function(){jQuery(".navigation__call-buyer > a").on("click",function(){return jQuery("#box-cooperation").addClass("hidden_type_min-md"),jQuery("#box-contacts").addClass("hidden_type_min-md"),jQuery("#box-buyer").removeClass("hidden_type_min-md"),jQuery("html, body").animate({scrollTop:jQuery(document).height()-jQuery(window).height()},100),!1}),jQuery(".navigation__call-cooperation > a").on("click",function(){return jQuery("#box-buyer").addClass("hidden_type_min-md"),jQuery("#box-contacts").addClass("hidden_type_min-md"),jQuery("#box-cooperation").removeClass("hidden_type_min-md"),jQuery("html, body").animate({scrollTop:jQuery(document).height()-jQuery(window).height()},100),!1}),jQuery(".navigation__call-contacts > a").on("click",function(){return jQuery("#box-buyer").addClass("hidden_type_min-md"),jQuery("#box-cooperation").addClass("hidden_type_min-md"),jQuery("#box-contacts").removeClass("hidden_type_min-md"),jQuery("html, body").animate({scrollTop:jQuery(document).height()-jQuery(window).height()},100),!1}),jQuery("#navigation .navigation__list .menu-item-has-children").hover(function(){if(window.matchMedia("(min-width: 992px)").matches){jQuery("img",this).each(function(){var t=jQuery(this),e=t.attr("data-src");jQuery(t).attr("src",e),jQuery(t).removeAttr("data-spai")})}}),jQuery("#navigation .navigation__list .menu-item-has-children > a",this).on("click",function(){if(window.matchMedia("(min-width: 992px)").matches)return!1})}),jQuery(document).ready(function(){jQuery(".popup__exit").click(function(){jQuery(".popup").addClass("hidden")}),jQuery(this).keydown(function(t){27==t.which&&jQuery(".popup").addClass("hidden")}),jQuery(".popup").click(function(t){var e=jQuery("> .popup__content",this);e.is(t.target)||0!==e.has(t.target).length||jQuery(".popup").addClass("hidden")}),jQuery("[data-popup]").click(function(){jQuery("#"+jQuery(this).attr("data-popup")).removeClass("hidden")})}),jQuery(document).ready(function(){jQuery(".product_first").attr("srcset",jQuery(".product__img").attr("data-src")),jQuery(".product_first").attr("src",jQuery(".product__img").attr("data-src")),jQuery(".product__img").on("click",function(){jQuery(".product_first").attr("srcset",jQuery(this).attr("data-src")),jQuery(".product_first").attr("src",jQuery(this).attr("data-src"))});var t,e,i=0,a=0,r={x:0,y:0},o={magniflier:jQuery(".magniflier")};if(o.magniflier.length){var n=document.createElement("div");n.setAttribute("class","glass"),o.glass=jQuery(n),jQuery("body").append(n)}var s=function(i){var a=e.offset();r.x=i.pageX-a.left,r.y=i.pageY-a.top,r.x<e.width()&&r.y<e.height()&&r.x>0&&r.y>0?t(i):o.glass.fadeOut(100)},t=function(t){var n=-1*Math.round(r.x/e.width()*i-o.glass.width()/2),s=-1*Math.round(r.y/e.height()*a-o.glass.height()/2),u=n+"px "+s+"px",d=t.pageX-o.glass.width()/2,l=t.pageY-o.glass.height()/2;o.glass.css({left:d,top:l,backgroundPosition:u})};jQuery(o.magniflier).on("mousemove",function(){o.glass.fadeIn(100),e=jQuery(this);var t=e.attr("src");if(t&&o.glass.css({"background-image":"url("+t+")","background-repeat":"no-repeat"}),!e.data("native_width")){var r=new Image;return r.onload=function(){i=r.width,a=r.height,e.data("native_width",i),e.data("native_height",a),s.apply(this,arguments),o.glass.on("mousemove",s)},void(r.src=t)}i=e.data("native_width"),a=e.data("native_height"),s.apply(this,arguments),o.glass.on("mousemove",s)}),jQuery(".product__variation-choice").on("click",function(){jQuery(">.product__variation-select",this).removeClass("hidden")}),jQuery(".product__variation-input input").change(function(){var t=jQuery(this).attr("data-ids");jQuery(this).is(":checked")?(jQuery("#"+t+' option[value="true"]').prop("selected",!0),jQuery("#"+t).change()):(jQuery("#"+t+' option[value="false"]').prop("selected",!0),jQuery("#"+t).change())}),jQuery(".product__variation-choice").change(function(t){if(jQuery(this).attr("id")){jQuery(this).attr("id").indexOf("size")>-1&&(jQuery("[data-scheme]").addClass("hidden"),jQuery(this).val()&&jQuery("[data-scheme="+jQuery(this).val()+"]").removeClass("hidden"))}})}),jQuery(document).ready(function(){var t=1,e=0,i=0;jQuery("[data-questionnaire]").on("click",function(){jQuery(".questionnaire").removeClass("hidden")}),jQuery('[value="диван"]').change(function(t){i=jQuery('[value="диван"]').is(":checked")?1:0}),jQuery(".required").change(function(){1==e&&jQuery(".questionnaire__error").addClass("hidden")}),jQuery(".farther").on("click",function(){1==t&&(e=0,""==jQuery(".required").val()&&(e=1,jQuery(".questionnaire__error").removeClass("hidden"))),1!=e&&(jQuery('[data-item="'+t+'"]').addClass("hidden"),4==t&&0==i&&t++,t++),9==t&&(jQuery(".farther").addClass("hidden"),jQuery(".back").addClass("hidden")),2==t&&jQuery(".back").removeClass("hidden"),jQuery('[data-item="'+t+'"]').removeClass("hidden")}),jQuery(".back").on("click",function(){jQuery('[data-item="'+t+'"]').addClass("hidden"),6==t&&0==i&&t--,t--,1==t&&jQuery(".back").addClass("hidden"),jQuery('[data-item="'+t+'"]').removeClass("hidden")}),jQuery(".questionnaire__close").click(function(){jQuery(".questionnaire__partition").addClass("hidden"),jQuery('.questionnaire__partition[data-item="1"]').removeClass("hidden"),jQuery(".questionnaire").addClass("hidden"),jQuery(".back").addClass("hidden"),jQuery(".farther").removeClass("hidden"),t=1}),jQuery(this).keydown(function(t){27==t.which&&jQuery(".questionnaire__close").click()})});