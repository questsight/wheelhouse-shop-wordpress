jQuery(document).ready(function(){jQuery(".product__cloth").on("click",function(){jQuery(".cloth").removeClass("hidden");var e=jQuery("#filter-cloth").serialize();jQuery("#result-cloth").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-cloth.php",data:e,method:"POST",success:function(e){jQuery("#result-cloth").html(e)}}),jQuery("#result-cloth").removeClass("hidden")}),jQuery(".cloth__close").on("click",function(){price="",jQuery(".cloth__popup").addClass("hidden"),jQuery("#result-cloth").addClass("hidden"),jQuery(".cloth").addClass("hidden")}),jQuery(this).keydown(function(e){27==e.which&&jQuery(".cloth__close").click()}),jQuery(".product__cloth-add").on("click",function(){jQuery(".cloth").removeClass("hidden"),jQuery('[name="item"]').attr("value",jQuery(this).attr("data-item"));var e=jQuery("#filter-cloth").serialize();jQuery("#result-cloth").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-cloth-add.php",data:e,method:"POST",success:function(e){jQuery("#result-cloth").html(e)}}),jQuery("#result-cloth").removeClass("hidden")}),jQuery(".product__cloth-fix").on("click",function(){jQuery("#popup-fix img").attr("src",jQuery(this).attr("data-fix")),jQuery("#popup-fix").removeClass("hidden")}),jQuery("#popup-fix .popup__content .listing__close").on("click",function(){jQuery("#popup-fix").addClass("hidden"),jQuery("#popup-fix img").attr("src","")})}),jQuery(document).ready(function(){jQuery("#product__colors").on("click",function(){jQuery(".colors").removeClass("hidden");var e=jQuery("#product-colors").serialize();jQuery("#result-colors").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-colors.php",data:e,method:"POST",success:function(e){jQuery("#result-colors").html(e)}}),jQuery("#result-colors").removeClass("hidden")}),jQuery(".colors__close").on("click",function(){jQuery(".colors").addClass("hidden"),jQuery("#result-colors").addClass("hidden")})}),jQuery(document).ready(function(){jQuery(".filter__title").on("click",function(){if(window.matchMedia("(max-width: 991px)").matches){var e=jQuery(this).attr("data-type");jQuery(".filter__item").addClass("hidden_type_min-md"),jQuery(this).hasClass("open")?jQuery(".filter__title").removeClass("open"):(jQuery(".filter__item[data-type="+e+"]").removeClass("hidden_type_min-md"),jQuery(".filter__title").removeClass("open"),jQuery(this).addClass("open"))}}),jQuery(".filter__close").on("click",function(){jQuery(".filter").addClass("hidden_type_min-md"),jQuery(".filter__call").removeClass("hidden_type_min-md")}),jQuery(".filter__show").on("click",function(){jQuery(".filter").addClass("hidden_type_min-md"),jQuery(".filter__call").removeClass("hidden_type_min-md")}),jQuery(".filter__call").on("click",function(){jQuery(".filter").removeClass("hidden_type_min-md"),jQuery(".filter__call").addClass("hidden_type_min-md")}),jQuery("#filter-materialy input").change(function(e){var t=jQuery("#filter-materialy").serialize();history.pushState({},"","?"+t),jQuery("#result-materialy").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-materialy.php",data:t,method:"GET",success:function(e){jQuery("#result-materialy").html(e)}})}),jQuery("#filter-product input").change(function(e){if("all"==jQuery(this).attr("value")){var t=jQuery(this).attr("data-call");jQuery(this).attr("data-active")?(jQuery(this).removeAttr("data-active"),jQuery("["+t+"]").removeAttr("checked")):(jQuery(this).attr("data-active","active"),jQuery("["+t+"]").attr("checked","checked"))}var i=jQuery("#filter-product").serialize();history.pushState({},"","?"+i),jQuery("#result-product").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-product.php",data:i,method:"GET",success:function(e){jQuery("#result-product").html(e)}})})}),jQuery(document).ready(function(){jQuery(".agree").prop("checked",!1)}),jQuery(document).ready(function(){jQuery("#hamburger").click(function(){jQuery(".hamburger__item").toggleClass("hamburger__item_open"),jQuery("#navigation").toggleClass("hidden_type_min-md")})}),jQuery(document).ready(function(){jQuery("#icon-search").on("click",function(){jQuery("#icon-search").toggleClass("active"),jQuery("#form-search").toggleClass("active")})}),jQuery(document).ready(function(){var e=jQuery(".listing__item").length,t=0;if("portfolio"==jQuery(".listing").attr("data-type"))var i=!0;else var i=!1;jQuery(".listing__item").click(function(){if(jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style",""),window.matchMedia("(max-width: 767px)").matches&&(jQuery(".listing__item").addClass("hidden"),jQuery(".description").addClass("hidden"),jQuery(".title").addClass("hidden")),i)var e=jQuery(this).children(".listing__foto").attr("data-src").split(",");window.matchMedia("(min-width: 992px)").matches&jQuery(".listing").height()>jQuery(window).height()-160||window.matchMedia("(min-width: 992px)").matches&jQuery(window).height()<700?jQuery(".listing").attr("data-fixed","fixed"):jQuery(".listing").height()>jQuery(window).height()-jQuery(".site__header").height()-50&&jQuery(".listing").attr("data-fixed","fixed"),i?(jQuery(".listing__popup-foto img").attr("src",e[0]),e.length>1&&(jQuery(".listing__popup-foto img:first").css("max-height","calc(100vh - 200px)"),jQuery.each(e,function(e,t){jQuery(".listing__popup-foto").append('<img class="portfolio__img" src="'+t+'" style="height:80px;margin: 5px;cursor:pointer;">')}),jQuery(".portfolio__img").on("click",function(){jQuery(".listing__popup-foto img:first").attr("src",jQuery(this).attr("src"))}))):jQuery(".listing__popup-foto img").attr("src",jQuery(this).children(".listing__foto").attr("data-src")),jQuery(".listing__popup-title").html(jQuery(this).children(".listing__title").html()),jQuery(".listing__popup-description").html(jQuery(this).attr("data-description")),t=+jQuery(this).attr("data-item"),jQuery(".listing__popup").removeClass("hidden")}),jQuery(".listing__arrow-left").click(function(){jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style",""),1==t?t=e:t--;var r=jQuery('[data-item="'+t+'"]').children(".listing__foto").attr("data-src").split(",");if(jQuery(".listing__popup-title").addClass("animation-opacity-0").html(jQuery('[data-item="'+t+'"]').children(".listing__title").html()),jQuery(".listing__popup-description").addClass("animation-opacity-0").html(jQuery('[data-item="'+t+'"]').attr("data-description")),jQuery(".listing__arrow-left").addClass("animation-opacity-0"),jQuery(".listing__arrow-right").addClass("animation-opacity-0"),i){var a=r[0];r.length>1&&(jQuery(".listing__popup-foto img:first").css("max-height","calc(100vh - 200px)"),jQuery.each(r,function(e,t){jQuery(".listing__popup-foto").append('<img class="portfolio__img" src="'+t+'" style="height:80px;margin: 5px;cursor:pointer;">')}),jQuery(".portfolio__img").on("click",function(){jQuery(".listing__popup-foto img:first").attr("src",jQuery(this).attr("src"))}))}else var a=jQuery('[data-item="'+t+'"]').children(".listing__foto").attr("data-src");return jQuery(".listing__popup-foto img:first").addClass("animation-opacity-0").attr("src",a).on("load",function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity-0").addClass("animation-opacity"),setTimeout(function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity")},1e3)}),!1}),jQuery(".listing__arrow-right").click(function(){jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style",""),t==e?t=1:t++;var r=jQuery('[data-item="'+t+'"]').children(".listing__foto").attr("data-src").split(",");if(jQuery(".listing__popup-title").addClass("animation-opacity-0").html(jQuery('[data-item="'+t+'"]').children(".listing__title").html()),jQuery(".listing__popup-description").addClass("animation-opacity-0").html(jQuery('[data-item="'+t+'"]').attr("data-description")),jQuery(".listing__arrow-left").addClass("animation-opacity-0"),jQuery(".listing__arrow-right").addClass("animation-opacity-0"),i){var a=r[0];r.length>1&&(jQuery(".listing__popup-foto img:first").css("max-height","calc(100vh - 200px)"),jQuery.each(r,function(e,t){jQuery(".listing__popup-foto").append('<img class="portfolio__img" src="'+t+'" style="height:80px;margin: 5px;cursor:pointer;">')}),jQuery(".portfolio__img").on("click",function(){jQuery(".listing__popup-foto img:first").attr("src",jQuery(this).attr("src"))}))}else var a=jQuery('[data-item="'+t+'"]').children(".listing__foto").attr("data-src");return jQuery(".listing__popup-foto img:first").addClass("animation-opacity-0").attr("src",a).on("load",function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity-0").addClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity-0").addClass("animation-opacity"),setTimeout(function(){jQuery(".listing__popup-foto img").removeClass("animation-opacity"),jQuery(".listing__popup-title").removeClass("animation-opacity"),jQuery(".listing__popup-description").removeClass("animation-opacity"),jQuery(".listing__arrow-left").removeClass("animation-opacity"),jQuery(".listing__arrow-right").removeClass("animation-opacity")},1e3)}),!1}),jQuery(".listing__close").click(function(){jQuery(".listing__popup").addClass("hidden"),jQuery(".listing__item").removeClass("hidden"),jQuery(".description").removeClass("hidden"),jQuery(".title").removeClass("hidden"),jQuery(".portfolio__img").remove(),jQuery(".listing__popup-foto img:first").attr("style","")}),jQuery(this).keydown(function(e){27==e.which&&jQuery(".listing__popup").addClass("hidden")}),jQuery(this).keydown(function(e){37==e.which&&jQuery(".listing__arrow-left").click()}),jQuery(this).keydown(function(e){39==e.which&&jQuery(".listing__arrow-right").click()})});var lastX;jQuery(document).bind("touchmove",function(e){var t=e.originalEvent.touches[0].clientX;t>lastX?jQuery(".listing__arrow-left").click():t<lastX&&jQuery(".listing__arrow-right").click(),lastX=t}),jQuery(document).ready(function(){jQuery("#pa_size-krd").change(function(){jQuery('[name="mattress-size"]').attr("value",jQuery(this).val()),jQuery("#product__mattress").attr("data-fix")?jQuery("#product__mattress").html("Выбрать матрас"):jQuery("#product__mattress").html("Добавить матрас"),jQuery("#product__mattress-above").html("Добавить наматрасник"),jQuery("#add-mattress").removeAttr("name"),jQuery("#add-mattress-above").removeAttr("name"),jQuery("#add-mattress").removeAttr("value"),jQuery("#add-mattress-above").removeAttr("value"),jQuery(".variation_id").removeAttr("data-addprice"),jQuery(".variation_id").removeAttr("data-addpricetwo")}),jQuery(".variation_id").change(function(){jQuery('[name="mattress-size"]').attr("value",jQuery("#pa_size-krd").val())}),jQuery("#product__mattress").on("click",function(){jQuery(".mattress").removeClass("hidden");var e=jQuery("#mattress-size").serialize();jQuery("#result-mattress").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-mattress.php",data:e,method:"POST",success:function(e){jQuery("#result-mattress").html(e)}}),jQuery("#result-mattress").removeClass("hidden")}),jQuery("#product__mattress-above").on("click",function(){jQuery(".mattress").removeClass("hidden");var e=jQuery("#mattress-size").serialize();jQuery("#result-mattress").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-mattress-above.php",data:e,method:"POST",success:function(e){jQuery("#result-mattress").html(e)}}),jQuery("#result-mattress").removeClass("hidden")}),jQuery(".mattress__close").on("click",function(){jQuery(".cloth__popup").addClass("hidden"),jQuery("#result-mattress").addClass("hidden"),jQuery(".mattress").addClass("hidden")})}),jQuery(document).ready(function(){jQuery(".navigation__call-buyer > a").on("click",function(){return jQuery("#box-cooperation").addClass("hidden_type_min-md"),jQuery("#box-contacts").addClass("hidden_type_min-md"),jQuery("#box-buyer").removeClass("hidden_type_min-md"),jQuery("html, body").animate({scrollTop:jQuery(document).height()-jQuery(window).height()},100),!1}),jQuery(".navigation__call-cooperation > a").on("click",function(){return jQuery("#box-buyer").addClass("hidden_type_min-md"),jQuery("#box-contacts").addClass("hidden_type_min-md"),jQuery("#box-cooperation").removeClass("hidden_type_min-md"),jQuery("html, body").animate({scrollTop:jQuery(document).height()-jQuery(window).height()},100),!1}),jQuery(".navigation__call-contacts > a").on("click",function(){return jQuery("#box-buyer").addClass("hidden_type_min-md"),jQuery("#box-cooperation").addClass("hidden_type_min-md"),jQuery("#box-contacts").removeClass("hidden_type_min-md"),jQuery("html, body").animate({scrollTop:jQuery(document).height()-jQuery(window).height()},100),!1}),jQuery("#navigation .navigation__list .menu-item-has-children").hover(function(){if(window.matchMedia("(min-width: 992px)").matches){jQuery("img",this).each(function(){var e=jQuery(this),t=e.attr("data-src");jQuery(e).attr("src",t),jQuery(e).removeAttr("data-spai")}),jQuery(".product__variation").addClass("product__variation-block")}},function(){jQuery(".product__variation").removeClass("product__variation-block")}),jQuery("#navigation .navigation__list .menu-item-has-children > a",this).on("click",function(){if(window.matchMedia("(min-width: 992px)").matches)return!1})}),jQuery(document).ready(function(){jQuery(".product__pillar").on("click",function(){jQuery(".pillar").removeClass("hidden");var e=jQuery("#product-pillar").serialize();jQuery("#result-pillar").html('<div class="spinner"></div>'),jQuery.ajax({url:window.location.origin+"/wp-content/themes/questsight/ajax-pillar.php",data:e,method:"POST",success:function(e){jQuery("#result-pillar").html(e)}}),jQuery("#result-pillar").removeClass("hidden")}),jQuery(".pillar__close").on("click",function(){jQuery("#result-pillar").addClass("hidden"),jQuery(".pillar").addClass("hidden")}),jQuery(this).keydown(function(e){27==e.which&&jQuery(".pillar__close").click()})}),jQuery(document).ready(function(){jQuery(".popup__exit").click(function(){jQuery(".popup").addClass("hidden")}),jQuery(this).keydown(function(e){27==e.which&&jQuery(".popup").addClass("hidden")}),jQuery(".popup").click(function(e){var t=jQuery("> .popup__content",this);t.is(e.target)||0!==t.has(e.target).length||jQuery(".popup").addClass("hidden")}),jQuery("[data-popup]").click(function(){jQuery("#"+jQuery(this).attr("data-popup")).removeClass("hidden")})}),jQuery(document).ready(function(){var e=!1;jQuery(".product__img").on("click",function(){jQuery(".product__first img").attr("src",jQuery(this).attr("data-src")),jQuery(this).attr("data-scheme")&&(e=!0)});var t=!1;jQuery(".product__variation-choice").change(function(i){if(jQuery(this).attr("id")&&t){jQuery(this).attr("id").indexOf("size")>-1&&(jQuery("[data-scheme]").addClass("hidden"),jQuery(this).val()&&jQuery("img").is("[data-scheme="+jQuery(this).val()+"]")?(jQuery("[data-scheme="+jQuery(this).val()+"]").removeClass("hidden"),jQuery("[data-scheme="+jQuery(this).val()+"]").click()):e&&(jQuery(".product__first img").attr("src",jQuery(".product__img").attr("data-src")),e=!1))}t=!0});var i,r,a=0,o=0,s={x:0,y:0},n={magniflier:jQuery(".magniflier")};if(n.magniflier.length){var u=document.createElement("div");u.setAttribute("class","glass"),n.glass=jQuery(u),jQuery("body").append(u)}var l=function(e){var t=r.offset();s.x=e.pageX-t.left,s.y=e.pageY-t.top,s.x<r.width()&&s.y<r.height()&&s.x>0&&s.y>0?i(e):n.glass.fadeOut(100)},i=function(e){var t=-1*Math.round(s.x/r.width()*a-n.glass.width()/2),i=-1*Math.round(s.y/r.height()*o-n.glass.height()/2),u=t+"px "+i+"px",l=e.pageX-n.glass.width()/2,d=e.pageY-n.glass.height()/2;n.glass.css({left:l,top:d,backgroundPosition:u})};jQuery(n.magniflier).on("mousemove",function(){if(window.matchMedia("(min-width: 992px)").matches){n.glass.fadeIn(100),r=jQuery(this);var e=r.attr("src");if(e&&n.glass.css({"background-image":"url("+e+")","background-repeat":"no-repeat"}),!r.data("native_width")){var t=new Image;return t.onload=function(){a=t.width,o=t.height,r.data("native_width",a),r.data("native_height",o),l.apply(this,arguments),n.glass.on("mousemove",l)},void(t.src=e)}a=r.data("native_width"),o=r.data("native_height"),l.apply(this,arguments),n.glass.on("mousemove",l)}}),jQuery(".product__variation-choice span").on("click",function(){jQuery(">.product__variation-select",jQuery(this).parent(".product__variation-choice")).toggleClass("hidden")}),jQuery(".product__variation-input input").change(function(){var e=jQuery(this).attr("data-ids");jQuery(this).is(":checked")?(jQuery("#"+e+' option[value="true"]').prop("selected",!0),jQuery("#"+e).change()):(jQuery("#"+e+' option[value="false"]').prop("selected",!0),jQuery("#"+e).change())})}),jQuery(document).ready(function(){var e=1,t=0,i=0;jQuery("[data-questionnaire]").on("click",function(){jQuery(".questionnaire").removeClass("hidden")}),jQuery('[value="диван"]').change(function(e){i=jQuery('[value="диван"]').is(":checked")?1:0}),jQuery(".required").change(function(){1==t&&jQuery(".questionnaire__error").addClass("hidden")}),jQuery(".farther").on("click",function(){1==e&&(t=0,""==jQuery(".required").val()&&(t=1,jQuery(".questionnaire__error").removeClass("hidden"))),1!=t&&(jQuery('[data-item="'+e+'"]').addClass("hidden"),4==e&&0==i&&e++,e++),9==e&&jQuery(".farther").addClass("hidden"),2==e&&jQuery(".back").removeClass("hidden"),jQuery('[data-item="'+e+'"]').removeClass("hidden")}),jQuery(".back").on("click",function(){jQuery('[data-item="'+e+'"]').addClass("hidden"),6==e&&0==i&&e--,e--,1==e&&jQuery(".back").addClass("hidden"),8==e&&jQuery(".farther").removeClass("hidden"),jQuery('[data-item="'+e+'"]').removeClass("hidden")}),jQuery(".questionnaire__close").click(function(){jQuery(".questionnaire__partition").addClass("hidden"),jQuery('.questionnaire__partition[data-item="1"]').removeClass("hidden"),jQuery(".questionnaire").addClass("hidden"),jQuery(".back").addClass("hidden"),jQuery(".farther").removeClass("hidden"),e=1}),jQuery(this).keydown(function(e){27==e.which&&jQuery(".questionnaire__close").click()})});